{"ast":null,"code":"import _slicedToArray from\"/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Row,Col}from\"react-bootstrap\";import\"../../styles/screens/DashboardScreen.css\";import Message from\"../Message\";import{getUserCredits,getUserDebts}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FriendsSummary(){var dispatch=useDispatch();var collapseSize=4;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAll=_useState2[0],setShowAll=_useState2[1];// User's total credit breakdown\nvar userCredits=useSelector(function(state){return state.userCredits;});var userCreditsError=userCredits.error,userCreditsLoading=userCredits.loading,userCredit=userCredits.userCredit;// User's total debt breakdown\nvar userDebts=useSelector(function(state){return state.userDebts;});var userDebtsError=userDebts.error,userDebtsLoading=userDebts.loading,userDebt=userDebts.userDebt;var handleShowMore=function handleShowMore(){setShowAll(!showAll);};useEffect(function(){dispatch(getUserCredits());dispatch(getUserDebts());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Friends Summary\"}),/*#__PURE__*/_jsxs(Row,{className:\"dashboard-section-box-container\",children:[/*#__PURE__*/_jsxs(Col,{md:6,className:\"dashboard-section-box-container-col\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{children:\"Friends you owe\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-box\",children:userDebtsLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):userDebtsError?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:userDebtsError}):userDebt.length===0?/*#__PURE__*/_jsx(\"h6\",{className:\"py-3 text-center\",children:\"You don't owe anyone money\"}):/*#__PURE__*/_jsx(\"div\",{className:\"m-0\",children:userDebt.slice(0,showAll?userDebt.length:collapseSize).map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-box-item d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary\",children:[\"$\",user.total_amount.toFixed(2)]})]},user.id);})})})]}),/*#__PURE__*/_jsxs(Col,{md:6,className:\"dashboard-section-box-container-col\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{children:\"Friends owe to you\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"summary-box\",children:userCreditsLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):userCreditsError?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:userCreditsError}):userCredit.length===0?/*#__PURE__*/_jsx(\"h6\",{className:\"py-3 text-center\",children:\"No one owes you\"}):/*#__PURE__*/_jsx(\"div\",{className:\"m-0\",children:userCredit.slice(0,showAll?userCredit.length:collapseSize).map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-box-item d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-primary\",children:[\"$\",user.total_amount.toFixed(2)]})]},user.id);})})})]}),(userDebt.length>collapseSize||userCredit.length>collapseSize)&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleShowMore();},className:\"show-more-button mt-4\",children:showAll?/*#__PURE__*/_jsxs(\"div\",{children:[\"Show less\",\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angles-up\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[\"Show all\",\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angles-down\"})]})})]})]});}export default FriendsSummary;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Row","Col","Message","getUserCredits","getUserDebts","jsx","_jsx","jsxs","_jsxs","FriendsSummary","dispatch","collapseSize","_useState","_useState2","_slicedToArray","showAll","setShowAll","userCredits","state","userCreditsError","error","userCreditsLoading","loading","userCredit","userDebts","userDebtsError","userDebtsLoading","userDebt","handleShowMore","className","children","md","variant","length","slice","map","user","name","total_amount","toFixed","id","onClick"],"sources":["/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/src/components/DashboardScreenComponents/FriendsSummary.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport \"../../styles/screens/DashboardScreen.css\";\nimport Message from \"../Message\";\nimport { getUserCredits, getUserDebts } from \"../../actions/userActions\";\n\nfunction FriendsSummary() {\n    const dispatch = useDispatch();\n    const collapseSize = 4;\n    const [showAll, setShowAll] = useState(false);\n\n    // User's total credit breakdown\n    const userCredits = useSelector((state) => state.userCredits);\n    const {\n        error: userCreditsError,\n        loading: userCreditsLoading,\n        userCredit,\n    } = userCredits;\n    // User's total debt breakdown\n    const userDebts = useSelector((state) => state.userDebts);\n    const {\n        error: userDebtsError,\n        loading: userDebtsLoading,\n        userDebt,\n    } = userDebts;\n\n    const handleShowMore = () => {\n        setShowAll(!showAll);\n    };\n\n    useEffect(() => {\n        dispatch(getUserCredits());\n        dispatch(getUserDebts());\n    }, [dispatch]);\n\n    return (\n        <div className=\"dashboard-section-container\">\n            <h4>Friends Summary</h4>\n            <Row className=\"dashboard-section-box-container\">\n                <Col md={6} className=\"dashboard-section-box-container-col\">\n                    <div>\n                        <h6>Friends you owe</h6>\n                    </div>\n                    <div className=\"summary-box\">\n                        {userDebtsLoading ? (\n                            <div>Loading...</div>\n                        ) : userDebtsError ? (\n                            <Message variant=\"danger\">{userDebtsError}</Message>\n                        ) : userDebt.length === 0 ? (\n                            <h6 className=\"py-3 text-center\">\n                                You don't owe anyone money\n                            </h6>\n                        ) : (\n                            <div className=\"m-0\">\n                                {userDebt\n                                    .slice(\n                                        0,\n                                        showAll ? userDebt.length : collapseSize\n                                    )\n                                    .map((user) => (\n                                        <div\n                                            key={user.id}\n                                            className=\"summary-box-item d-flex flex-row justify-content-between\"\n                                        >\n                                            <div>{user.name}</div>\n                                            <div className=\"text-secondary\">\n                                                ${user.total_amount.toFixed(2)}\n                                            </div>\n                                        </div>\n                                    ))}\n                            </div>\n                        )}\n                    </div>\n                </Col>\n\n                <Col md={6} className=\"dashboard-section-box-container-col\">\n                    <div>\n                        <h6>Friends owe to you</h6>\n                    </div>\n                    <div className=\"summary-box\">\n                        {userCreditsLoading ? (\n                            <div>Loading...</div>\n                        ) : userCreditsError ? (\n                            <Message variant=\"danger\">\n                                {userCreditsError}\n                            </Message>\n                        ) : userCredit.length === 0 ? (\n                            <h6 className=\"py-3 text-center\">\n                                No one owes you\n                            </h6>\n                        ) : (\n                            <div className=\"m-0\">\n                                {userCredit\n                                    .slice(\n                                        0,\n                                        showAll\n                                            ? userCredit.length\n                                            : collapseSize\n                                    )\n                                    .map((user) => (\n                                        <div\n                                            key={user.id}\n                                            className=\"summary-box-item d-flex flex-row justify-content-between\"\n                                        >\n                                            <div>{user.name}</div>\n                                            <div className=\"text-primary\">\n                                                ${user.total_amount.toFixed(2)}\n                                            </div>\n                                        </div>\n                                    ))}\n                            </div>\n                        )}\n                    </div>\n                </Col>\n\n                {(userDebt.length > collapseSize ||\n                    userCredit.length > collapseSize) && (\n                    <div\n                        onClick={() => handleShowMore()}\n                        className=\"show-more-button mt-4\"\n                    >\n                        {showAll ? (\n                            <div>\n                                Show less{\" \"}\n                                <i className=\"fa-solid fa-angles-up\"></i>\n                            </div>\n                        ) : (\n                            <div>\n                                Show all{\" \"}\n                                <i className=\"fa-solid fa-angles-down\"></i>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </Row>\n        </div>\n    );\n}\n\nexport default FriendsSummary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}