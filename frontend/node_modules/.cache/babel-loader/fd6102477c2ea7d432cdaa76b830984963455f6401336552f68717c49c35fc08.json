{"ast":null,"code":"import _slicedToArray from\"/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useCallback}from\"react\";import{Modal,Button}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import AlertMessage from\"../AlertMessage\";import{sendGroupInvite}from\"../../actions/groupActions\";import{GROUP_INVITE_SEND_RESET}from\"../../constants/groupConstants\";import Message from\"../Message\";import{deleteFriend,getUserFriendNotMemberGroupSearch}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FriendOptionsPopup(_ref){var show=_ref.show,onClose=_ref.onClose,selectedFriend=_ref.selectedFriend;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),alertMessage=_useState4[0],setAlertMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertVariant=_useState6[0],setAlertVariant=_useState6[1];var userFriendNotMemberGroupSearch=useSelector(function(state){return state.userFriendNotMemberGroupSearch;});var notMemberError=userFriendNotMemberGroupSearch.error,notMemberLoading=userFriendNotMemberGroupSearch.loading,userFriendNotMemberGroupSearchResults=userFriendNotMemberGroupSearch.userFriendNotMemberGroupSearchResults;var groupInviteSend=useSelector(function(state){return state.groupInviteSend;});var groupInviteSendSuccess=groupInviteSend.success;var handleDeleteFriend=function handleDeleteFriend(id){dispatch(deleteFriend(id));onClose();};var handleAddToGroup=function handleAddToGroup(groupId){dispatch(sendGroupInvite(groupId,selectedFriend.id));};var handleShowAlert=useCallback(function(message,variant){setAlertMessage(message);setAlertVariant(variant);setShowAlert(true);setTimeout(function(){setShowAlert(false);},3000);},[]);useEffect(function(){if(groupInviteSendSuccess){handleShowAlert(\"Sent user group invite\",\"success\");dispatch({type:GROUP_INVITE_SEND_RESET});}else if(groupInviteSendSuccess===false){handleShowAlert(\"Error occurred while trying to send user group invite\",\"danger\");}},[dispatch,handleShowAlert,groupInviteSendSuccess]);useEffect(function(){if(selectedFriend){dispatch(getUserFriendNotMemberGroupSearch(selectedFriend.id));}},[dispatch,selectedFriend,groupInviteSendSuccess]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onClose,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:selectedFriend.name.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return handleDeleteFriend(selectedFriend.id);},className:\"mx-1\",children:\"Delete Friend\"})})]})})}),/*#__PURE__*/_jsx(Modal.Body,{children:notMemberLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):notMemberError?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:notMemberError}):userFriendNotMemberGroupSearchResults.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No Groups to add\"}):userFriendNotMemberGroupSearchResults.map(function(group){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:group.name}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return handleAddToGroup(group.id);},className:\"mx-1\",children:\"Invite to Group\"})]},group.id);})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onClose,children:\"Close\"})}),showAlert&&/*#__PURE__*/_jsx(AlertMessage,{message:alertMessage,variant:alertVariant})]});}export default FriendOptionsPopup;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Modal","Button","useDispatch","useSelector","AlertMessage","sendGroupInvite","GROUP_INVITE_SEND_RESET","Message","deleteFriend","getUserFriendNotMemberGroupSearch","jsx","_jsx","jsxs","_jsxs","FriendOptionsPopup","_ref","show","onClose","selectedFriend","dispatch","_useState","_useState2","_slicedToArray","showAlert","setShowAlert","_useState3","_useState4","alertMessage","setAlertMessage","_useState5","_useState6","alertVariant","setAlertVariant","userFriendNotMemberGroupSearch","state","notMemberError","error","notMemberLoading","loading","userFriendNotMemberGroupSearchResults","groupInviteSend","groupInviteSendSuccess","success","handleDeleteFriend","id","handleAddToGroup","groupId","handleShowAlert","message","variant","setTimeout","type","onHide","children","Header","Title","className","name","toUpperCase","onClick","Body","length","map","group","Footer"],"sources":["/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/src/components/FriendsScreenComponents/FriendOptionsPopup.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport AlertMessage from \"../AlertMessage\";\nimport { sendGroupInvite } from \"../../actions/groupActions\";\nimport { GROUP_INVITE_SEND_RESET } from \"../../constants/groupConstants\";\nimport Message from \"../Message\";\nimport {\n    deleteFriend,\n    getUserFriendNotMemberGroupSearch,\n} from \"../../actions/userActions\";\n\nfunction FriendOptionsPopup({ show, onClose, selectedFriend }) {\n    const dispatch = useDispatch();\n    const [showAlert, setShowAlert] = useState(false);\n    const [alertMessage, setAlertMessage] = useState(\"\");\n    const [alertVariant, setAlertVariant] = useState(\"\");\n\n    const userFriendNotMemberGroupSearch = useSelector(\n        (state) => state.userFriendNotMemberGroupSearch\n    );\n    const {\n        error: notMemberError,\n        loading: notMemberLoading,\n        userFriendNotMemberGroupSearchResults,\n    } = userFriendNotMemberGroupSearch;\n\n    const groupInviteSend = useSelector((state) => state.groupInviteSend);\n    const { success: groupInviteSendSuccess } = groupInviteSend;\n\n    const handleDeleteFriend = (id) => {\n        dispatch(deleteFriend(id));\n        onClose();\n    };\n\n    const handleAddToGroup = (groupId) => {\n        dispatch(sendGroupInvite(groupId, selectedFriend.id));\n    };\n\n    const handleShowAlert = useCallback((message, variant) => {\n        setAlertMessage(message);\n        setAlertVariant(variant);\n        setShowAlert(true);\n        setTimeout(() => {\n            setShowAlert(false);\n        }, 3000);\n    }, []);\n\n    useEffect(() => {\n        if (groupInviteSendSuccess) {\n            handleShowAlert(\"Sent user group invite\", \"success\");\n            dispatch({ type: GROUP_INVITE_SEND_RESET });\n        } else if (groupInviteSendSuccess === false) {\n            handleShowAlert(\n                \"Error occurred while trying to send user group invite\",\n                \"danger\"\n            );\n        }\n    }, [dispatch, handleShowAlert, groupInviteSendSuccess]);\n\n    useEffect(() => {\n        if (selectedFriend) {\n            dispatch(getUserFriendNotMemberGroupSearch(selectedFriend.id));\n        }\n    }, [dispatch, selectedFriend, groupInviteSendSuccess]);\n\n    return (\n        <Modal show={show} onHide={onClose}>\n            <Modal.Header>\n                <Modal.Title className=\"w-100\">\n                    <div className=\"d-flex flex-row justify-content-between\">\n                        <div>{selectedFriend.name.toUpperCase()}</div>\n                        <div>\n                            <Button\n                                variant=\"danger\"\n                                onClick={() =>\n                                    handleDeleteFriend(selectedFriend.id)\n                                }\n                                className=\"mx-1\"\n                            >\n                                Delete Friend\n                            </Button>\n                        </div>\n                    </div>\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {notMemberLoading ? (\n                    <div>Loading...</div>\n                ) : notMemberError ? (\n                    <Message variant=\"danger\">{notMemberError}</Message>\n                ) : userFriendNotMemberGroupSearchResults.length === 0 ? (\n                    <div>No Groups to add</div>\n                ) : (\n                    userFriendNotMemberGroupSearchResults.map((group) => (\n                        <div\n                            key={group.id}\n                            className=\"d-flex justify-content-between align-items-center mb-2\"\n                        >\n                            <span>{group.name}</span>\n                            <Button\n                                variant=\"primary\"\n                                onClick={() => handleAddToGroup(group.id)}\n                                className=\"mx-1\"\n                            >\n                                Invite to Group\n                            </Button>\n                        </div>\n                    ))\n                )}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onClose}>\n                    Close\n                </Button>\n            </Modal.Footer>\n            {showAlert && (\n                <AlertMessage message={alertMessage} variant={alertVariant} />\n            )}\n        </Modal>\n    );\n}\n\nexport default FriendOptionsPopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}