{"ast":null,"code":"import _slicedToArray from\"/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useCallback}from\"react\";import{Modal,Button,FormControl,ListGroup}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{getGroupUserSearchToInvite,sendGroupInvite}from\"../../actions/groupActions\";import{GROUP_INVITE_SEND_RESET}from\"../../constants/groupConstants\";import AlertMessage from\"../AlertMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InviteUsersPopup(_ref){var show=_ref.show,onClose=_ref.onClose,groupId=_ref.groupId;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAlert=_useState2[0],setShowAlert=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),alertMessage=_useState4[0],setAlertMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alertVariant=_useState6[0],setAlertVariant=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];// search users by keyword\nvar groupUserSearchToInvite=useSelector(function(state){return state.groupUserSearchToInvite;});var searchResults=groupUserSearchToInvite.userFriendNotMemberGroupSearchResults;// invite sent to user\nvar groupInviteSend=useSelector(function(state){return state.groupInviteSend;});var groupInviteSendSuccess=groupInviteSend.success;var handleSearchChange=function handleSearchChange(e){setSearchTerm(e.target.value);};var handleClose=function handleClose(){setSearchTerm(\"\");onClose();};var handleInviteToGroup=function handleInviteToGroup(userInviteId){dispatch(sendGroupInvite(groupId,userInviteId));};var handleShowAlert=useCallback(function(message,variant){setAlertMessage(message);setAlertVariant(variant);setShowAlert(true);setTimeout(function(){setShowAlert(false);},3000);},[]);useEffect(function(){if(groupInviteSendSuccess){handleShowAlert(\"Sent user group invite\",\"success\");dispatch({type:GROUP_INVITE_SEND_RESET});}else if(groupInviteSendSuccess===false){handleShowAlert(\"Error occurred while trying to send user group invite\",\"danger\");}},[dispatch,handleShowAlert,groupInviteSendSuccess]);useEffect(function(){dispatch(getGroupUserSearchToInvite(groupId,searchTerm));},[dispatch,groupId,searchTerm,groupInviteSendSuccess]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onClose,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Search Users\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(FormControl,{type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:handleSearchChange,className:\"mb-3\"}),/*#__PURE__*/_jsx(ListGroup,{className:\"search-results-container\",children:searchResults&&searchResults.map(function(user){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:user.email}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleInviteToGroup(user.id);},children:\"Invite to group\"})]})},user.id);})})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})}),showAlert&&/*#__PURE__*/_jsx(AlertMessage,{message:alertMessage,variant:alertVariant})]});}export default InviteUsersPopup;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Modal","Button","FormControl","ListGroup","useDispatch","useSelector","getGroupUserSearchToInvite","sendGroupInvite","GROUP_INVITE_SEND_RESET","AlertMessage","jsx","_jsx","jsxs","_jsxs","InviteUsersPopup","_ref","show","onClose","groupId","dispatch","_useState","_useState2","_slicedToArray","showAlert","setShowAlert","_useState3","_useState4","alertMessage","setAlertMessage","_useState5","_useState6","alertVariant","setAlertVariant","_useState7","_useState8","searchTerm","setSearchTerm","groupUserSearchToInvite","state","searchResults","userFriendNotMemberGroupSearchResults","groupInviteSend","groupInviteSendSuccess","success","handleSearchChange","e","target","value","handleClose","handleInviteToGroup","userInviteId","handleShowAlert","message","variant","setTimeout","type","onHide","children","Header","Title","Body","placeholder","onChange","className","map","user","Item","email","onClick","id","Footer"],"sources":["/Users/jeussantiago/Documents/coding/django/CoinCompanions/backend/frontend/src/components/IndividualGroupScreenComponents/InviteUsersPopup.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { Modal, Button, FormControl, ListGroup } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport {\n    getGroupUserSearchToInvite,\n    sendGroupInvite,\n} from \"../../actions/groupActions\";\nimport { GROUP_INVITE_SEND_RESET } from \"../../constants/groupConstants\";\nimport AlertMessage from \"../AlertMessage\";\n\nfunction InviteUsersPopup({ show, onClose, groupId }) {\n    const dispatch = useDispatch();\n    const [showAlert, setShowAlert] = useState(false);\n    const [alertMessage, setAlertMessage] = useState(\"\");\n    const [alertVariant, setAlertVariant] = useState(\"\");\n    const [searchTerm, setSearchTerm] = useState(\"\");\n\n    // search users by keyword\n    const groupUserSearchToInvite = useSelector(\n        (state) => state.groupUserSearchToInvite\n    );\n    const { userFriendNotMemberGroupSearchResults: searchResults } =\n        groupUserSearchToInvite;\n\n    // invite sent to user\n    const groupInviteSend = useSelector((state) => state.groupInviteSend);\n    const { success: groupInviteSendSuccess } = groupInviteSend;\n\n    const handleSearchChange = (e) => {\n        setSearchTerm(e.target.value);\n    };\n\n    const handleClose = () => {\n        setSearchTerm(\"\");\n        onClose();\n    };\n\n    const handleInviteToGroup = (userInviteId) => {\n        dispatch(sendGroupInvite(groupId, userInviteId));\n    };\n\n    const handleShowAlert = useCallback((message, variant) => {\n        setAlertMessage(message);\n        setAlertVariant(variant);\n        setShowAlert(true);\n        setTimeout(() => {\n            setShowAlert(false);\n        }, 3000);\n    }, []);\n\n    useEffect(() => {\n        if (groupInviteSendSuccess) {\n            handleShowAlert(\"Sent user group invite\", \"success\");\n            dispatch({ type: GROUP_INVITE_SEND_RESET });\n        } else if (groupInviteSendSuccess === false) {\n            handleShowAlert(\n                \"Error occurred while trying to send user group invite\",\n                \"danger\"\n            );\n        }\n    }, [dispatch, handleShowAlert, groupInviteSendSuccess]);\n\n    useEffect(() => {\n        dispatch(getGroupUserSearchToInvite(groupId, searchTerm));\n    }, [dispatch, groupId, searchTerm, groupInviteSendSuccess]);\n\n    return (\n        <Modal show={show} onHide={onClose}>\n            <Modal.Header>\n                <Modal.Title>Search Users</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <FormControl\n                    type=\"text\"\n                    placeholder=\"Search...\"\n                    value={searchTerm}\n                    onChange={handleSearchChange}\n                    className=\"mb-3\"\n                />\n                <ListGroup className=\"search-results-container\">\n                    {searchResults &&\n                        searchResults.map((user) => (\n                            <ListGroup.Item key={user.id}>\n                                <div className=\"d-flex flex-row justify-content-between\">\n                                    <div className=\"d-flex align-items-center\">\n                                        {user.email}\n                                    </div>\n                                    <Button\n                                        onClick={() =>\n                                            handleInviteToGroup(user.id)\n                                        }\n                                    >\n                                        Invite to group\n                                    </Button>\n                                </div>\n                            </ListGroup.Item>\n                        ))}\n                </ListGroup>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Close\n                </Button>\n            </Modal.Footer>\n            {showAlert && (\n                <AlertMessage message={alertMessage} variant={alertVariant} />\n            )}\n        </Modal>\n    );\n}\n\nexport default InviteUsersPopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}